<!doctype html><html lang=en><head><title>Sorting maps in Go</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=http://austingebauer.com/css/theme.min.css><link rel=stylesheet href=http://austingebauer.com/css/custom.min.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-150288366-2','auto');ga('send','pageview');}</script></head><body><div id=content class=mx-auto><header class="container mt-sm-5 mt-4 mb-4 mt-xs-1"><div class=row><div class="col-sm-4 col-12 text-sm-right text-center pt-sm-4"><a href=../../../ class=text-decoration-none><img id=home-image class=rounded-circle src=../../../images/me.png></a></div><div class="col-sm-8 col-12 text-sm-left text-center"><h2 class="m-0 mb-2 mt-4"><a href=../../../ class=text-decoration-none>Austin Gebauer</a></h2><p class="text-muted mb-1">Software Engineer | Hashicorp | Seattle, WA</p><ul id=nav-links class="list-inline mb-2"><li class=list-inline-item><a class="badge badge-white" href=../../../about/ title=About>About</a></li><li class=list-inline-item><a class="badge badge-white" href=../../../post/ title=Posts>Posts</a></li><li class=list-inline-item><a class="badge badge-white" href=../../../categories/ title=Categories>Categories</a></li></ul><ul id=nav-social class=list-inline><li class="list-inline-item mr-3"><a href=https://github.com/austingebauer target=_blank><i class="fab fa-github fa-1x text-muted"></i></a></li><li class="list-inline-item mr-3"><a href=https://www.linkedin.com/in/austingebauer target=_blank><i class="fab fa-linkedin-in fa-1x text-muted"></i></a></li><li class="list-inline-item mr-3"><a href=https://twitter.com/austingebauer target=_blank><i class="fab fa-twitter fa-1x text-muted"></i></a></li><li class="list-inline-item mr-3"><a href=mailto:gebauer.austin@gmail.com target=_blank><i class="fas fa-at fa-1x text-muted"></i></a></li></ul></div></div><hr></header><div class=container><div class=pl-sm-2><div class=mb-3><h3 class=mb-0>Sorting maps in Go</h3><small class=text-muted>Published January 6, 2020</small></div><article><p><a href=https://golang.org/ target=_blank>Go</a>
provides a built-in <a href=https://tour.golang.org/moretypes/19 target=_blank>map type</a>
that implements a
hash table (i.e., associative array that can map keys to values).</p><p>When iterating over a map, the iteration order isn&rsquo;t specified and has
no guarantee to be the same from one iteration to the next. So, if you require a certain
iteration order, you&rsquo;ll need to create a separate data structure that specifies that
order.</p><p>In this post, I&rsquo;ll show examples of how to specify that iteration order. I&rsquo;ll first
present a problem and next show examples of how to solve it by sorting the contents
of a map by <strong>key</strong> and/or <strong>value</strong>.</p><h4 id=example-problem>Example Problem</h4><p>Imagine that we have a set of movie titles, each with an association to the number of likes
the movie has received.</p><table class="table table-striped table-dark table-bordered"><thead><tr><th scope=col>Title</th><th scope=col>Likes</th></tr></thead><tbody><tr><td>Alien Covenant</td><td>202</td></tr><tr><td>The Imitation Game</td><td>98</td></tr><tr><td>Spaceballs</td><td>146</td></tr><tr><td>Good Will Hunting</td><td>98</td></tr></tbody></table><p>Our user would like to be able to sort by the movies by title (key), likes (value), or
both the title and likes when a tie occurs.</p><p>The examples below show how to accomplish each one of these sorting tasks given the
example association in a Go map.</p><h4 id=sorting-go-maps-by-key>Sorting Go Maps by Key</h4><p>In this example, notice that the movie titles printed to standard out are sorted
alphabetically in ascending order.</p><script type=application/javascript src=https://gist.github.com/austingebauer/ee423a2d2fbebccb5c4650622ff7442b.js></script><h4 id=sorting-go-maps-by-value>Sorting Go Maps by Value</h4><p>In this example, notice that the movie likes printed to standard out are sorted
numerically in ascending order.</p><script type=application/javascript src=https://gist.github.com/austingebauer/804fd1f4ea36af878dc8dd887ea364bd.js></script><h4 id=sorting-go-maps-by-both-key-and-value>Sorting Go Maps by both Key and Value</h4><p>In this example, notice that the movie likes printed to standard out are sorted
numerically in ascending order.</p><p><strong>Also notice</strong> that when there is a tie in likes (value), the ordering falls back
on movie title (key), which places <em>Good Will Hunting</em> before <em>The Imitation Game</em>.</p><script type=application/javascript src=https://gist.github.com/austingebauer/3ca953404684f8152e7e6e39b322497f.js></script></article></div></div></div><footer class="text-center pb-1"><small class=text-muted>&copy; Copyright 2020, Austin Gebauer<br>Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a>
and <a href=https://github.com/austingebauer/devise target=_blank>Devise</a></small></footer></body></html>